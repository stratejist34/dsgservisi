---
import { WHY_US } from '@utils/constants';
import { Icon } from 'astro-icon/components';

const ICONS = {
  speed: 'lucide:gauge',
  chat: 'lucide:messages-square',
  diagnostic: 'lucide:scan-line',
  roadside: 'lucide:car',
  parts: 'lucide:settings-2',
  experts: 'lucide:users',
} as const;

const DEFAULT_ICON = 'lucide:sparkles';
---

<section class="relative py-24 bg-[#0f172a] overflow-hidden">
  {/* Technical Background Pattern */}
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute inset-0 opacity-[0.03]" 
         style="background-image: radial-gradient(circle at 2px 2px, rgba(255,255,255,0.15) 1px, transparent 0); background-size: 40px 40px;">
    </div>
    <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-amber-500/5 rounded-full blur-[120px]"></div>
  </div>

  <div class="container relative z-10">
    {/* Section Header */}
    <div class="text-center mb-16" data-reveal>
      <span class="text-amber-500 font-mono text-xs tracking-widest uppercase mb-2 block">Sistem Avantajları</span>
      <h2 class="text-3xl md:text-5xl font-display font-bold text-white mb-6">
        NEDEN <span class="text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-amber-600">BİZİ SEÇMELİSİNİZ?</span>
      </h2>
      <p class="text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed">
        Standart servislerin ötesinde, mühendislik tabanlı yaklaşım ve şeffaf süreç yönetimi ile fark yaratıyoruz.
      </p>
    </div>

    {/* Features Grid */}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {WHY_US.map((item, index) => {
        const iconName = ICONS[item.icon] ?? DEFAULT_ICON;

        return (
          <div 
            class="group relative h-full" 
            data-reveal 
            data-stagger-index={index}
          >
            {/* Card */}
            <div class="relative h-full bg-slate-800/30 border border-white/10 rounded-xl p-8 transition-all duration-500 hover:bg-slate-800/50 hover:border-amber-500/30 hover:shadow-[0_0_30px_-10px_rgba(245,158,11,0.15)] overflow-hidden">
              
              {/* Tech Decoration Lines */}
              <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500/0 to-transparent group-hover:via-amber-500/50 transition-all duration-500"></div>
              <div class="absolute top-4 right-4 text-[10px] font-mono text-slate-600 group-hover:text-amber-500/50 transition-colors">
                SYS_FEAT_0{index + 1}
              </div>

              {/* Icon Container */}
              <div class="w-14 h-14 rounded-lg bg-slate-900 border border-white/10 flex items-center justify-center mb-6 group-hover:border-amber-500/50 group-hover:shadow-[0_0_15px_rgba(245,158,11,0.2)] transition-all duration-300">
                <Icon name={iconName} class="w-7 h-7 text-slate-400 group-hover:text-amber-500 transition-colors duration-300" />
              </div>

              <h3 class="text-xl font-display font-bold text-white mb-3 group-hover:text-amber-500 transition-colors">
                {item.title}
              </h3>
              
              <p class="text-sm text-slate-400 leading-relaxed border-l-2 border-white/5 pl-4 group-hover:border-amber-500/30 transition-all duration-300">
                {item.description}
              </p>
            </div>
          </div>
        );
      })}
    </div>
  </div>
</section>
